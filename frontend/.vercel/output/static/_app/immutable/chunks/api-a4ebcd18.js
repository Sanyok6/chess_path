import{u as r}from"./store-8478c103.js";const a=t=>{var e;return((e=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)"))==null?void 0:e.pop())||null},i=async(t,e,s)=>{const o=s||a("csrftoken"),n={...e};return n.headers={Accept:"application/json","Content-Type":"application/json",...n.headers},o&&(n.headers={"X-CSRFToken":o,...n.headers}),n.credentials="include",await fetch(`${window.location.origin}/api/${t}`,n)},p=(t,e)=>{!t&&a("isLoggedIn")==="yes"&&i("auth/users/me/",{},e).then(s=>{s.ok?s.json().then(o=>r.set(o.user)):console.log("error getting user data")})},u=t=>{const e=[];for(const[s,o]of Object.entries(t))e.push(`${s!=="detail"?`${s}: `:""}${Array.isArray(o)?o.join(", "):o}`);return e};export{i as a,u as b,p as f,a as g};
